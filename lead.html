<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lead Form</title>

  <!-- GTM HEAD SNIPPET GOES HERE -->
  <style>
    label { display:block; margin-top: 10px; }
    #success { display:none; margin-top: 12px; padding: 10px; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <!-- GTM BODY SNIPPET GOES HERE -->

  <h1>Fake Lead Form</h1>
  <p>This form does not send anything to a backend.</p>

  <form id="leadForm">
    <label>
      Name
      <input type="text" name="name" required />
    </label>
    <label>
      Email
      <input type="email" name="email" required />
    </label>

    <button type="submit">Submit</button>
  </form>

  <div id="success">
    Success! Fake lead submitted.
    <div><a href="thank-you.html">Go to Thank You Page</a></div>
  </div>

  <script>
    window.dataLayer = window.dataLayer || [];

    document.getElementById("leadForm").addEventListener("submit", function (e) {
      e.preventDefault();

      const formData = new FormData(e.target);
      const name = (formData.get("name") || "").toString();
      const email = (formData.get("email") || "").toString();

      window.dataLayer.push({
        event: "lead_submit_success",
        form_name: "lead_form_main",
        user_name_length: name.length,
        email_domain: email.includes("@") ? email.split("@")[1] : "unknown"
      });

      document.getElementById("success").style.display = "block";
    });
  </script>
</body>
</html>
